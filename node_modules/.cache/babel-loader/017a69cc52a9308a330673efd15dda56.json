{"ast":null,"code":"import _toConsumableArray from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useState}from\"react\";import{createPost}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(props){var loadedPosts=props.loadedPosts;var setLoadedPosts=props.setLoadedPosts;var setPostsToDisplay=props.setPostsToDisplay;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var handleSubmitNewPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var postInfo,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();postInfo={post:{title:\"\".concat(title),description:\"\".concat(description),price:\"\".concat(price),location:\"\".concat(location),willDeliver:\"\".concat(willDeliver)}};_context.next=4;return createPost(postInfo);case 4:data=_context.sent;console.log(data);setPostsToDisplay([data.data.post].concat(_toConsumableArray(loadedPosts)));setLoadedPosts([data.data.post].concat(_toConsumableArray(loadedPosts)));case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmitNewPost(_x){return _ref.apply(this,arguments);};}();var handleDescriptionChange=function handleDescriptionChange(event){setDescription(event.target.value);};var handleLocationChange=function handleLocationChange(event){setLocation(event.target.value);};var handlePriceChange=function handlePriceChange(event){setPrice(event.target.value);};var handleTitleChange=function handleTitleChange(event){setTitle(event.target.value);};var handleWillDeliverChange=function handleWillDeliverChange(event){setWillDeliver(event.target.checked);};return/*#__PURE__*/_jsxs(\"aside\",{id:\"createpost\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitNewPost,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:description,onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:location,onChange:handleLocationChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:price,onChange:handlePriceChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:title,onChange:handleTitleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"willdeliver\",children:\"Will Deliver\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"willdeliver\",value:willDeliver,onChange:handleWillDeliverChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Post\"})]})]});};export default CreatePost;","map":{"version":3,"sources":["/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/src/components/CreatePost.js"],"names":["useEffect","useState","createPost","CreatePost","props","loadedPosts","setLoadedPosts","setPostsToDisplay","description","setDescription","location","setLocation","price","setPrice","title","setTitle","willDeliver","setWillDeliver","handleSubmitNewPost","event","preventDefault","postInfo","post","data","console","log","handleDescriptionChange","target","value","handleLocationChange","handlePriceChange","handleTitleChange","handleWillDeliverChange","checked"],"mappings":"+lBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,UAAT,KAA2B,QAA3B,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1B,GAAMC,CAAAA,WAAW,CAAGD,KAAK,CAACC,WAA1B,CACA,GAAMC,CAAAA,cAAc,CAAGF,KAAK,CAACE,cAA7B,CACA,GAAMC,CAAAA,iBAAiB,CAAGH,KAAK,CAACG,iBAAhC,CACA,cAAsCN,QAAQ,CAAC,EAAD,CAA9C,wCAAOO,WAAP,eAAoBC,cAApB,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA0BV,QAAQ,CAAC,EAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eACA,eAA0BZ,QAAQ,CAAC,EAAD,CAAlC,yCAAOa,KAAP,eAAcC,QAAd,eACA,eAAsCd,QAAQ,CAAC,KAAD,CAA9C,0CAAOe,WAAP,gBAAoBC,cAApB,gBAEA,GAAMC,CAAAA,mBAAmB,0FAAG,iBAAOC,KAAP,oIACxBA,KAAK,CAACC,cAAN,GACAC,QAFwB,CAEb,CACXC,IAAI,CAAC,CACLR,KAAK,WAAKA,KAAL,CADA,CAELN,WAAW,WAAKA,WAAL,CAFN,CAGLI,KAAK,WAAKA,KAAL,CAHA,CAILF,QAAQ,WAAKA,QAAL,CAJH,CAKLM,WAAW,WAAKA,WAAL,CALN,CADM,CAFa,uBAYXd,CAAAA,UAAU,CAACmB,QAAD,CAZC,QAYxBE,IAZwB,eAa9BC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACEhB,iBAAiB,EAAEgB,IAAI,CAACA,IAAL,CAAUD,IAAZ,4BAAoBjB,WAApB,GAAjB,CACAC,cAAc,EAAEiB,IAAI,CAACA,IAAL,CAAUD,IAAZ,4BAAoBjB,WAApB,GAAd,CAf4B,sDAAH,kBAAnBa,CAAAA,mBAAmB,4CAAzB,CAkBA,GAAMQ,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACP,KAAD,CAAS,CACrCV,cAAc,CAACU,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAd,CACH,CAFD,CAGA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACV,KAAD,CAAS,CAClCR,WAAW,CAACQ,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX,CACH,CAFD,CAGA,GAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACX,KAAD,CAAS,CAC/BN,QAAQ,CAACM,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAR,CACH,CAFD,CAGA,GAAMG,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACZ,KAAD,CAAS,CAC/BJ,QAAQ,CAACI,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAR,CACH,CAFD,CAGA,GAAMI,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACb,KAAD,CAAS,CACrCF,cAAc,CAACE,KAAK,CAACQ,MAAN,CAAaM,OAAd,CAAd,CACH,CAFD,CAMA,mBACI,eAAO,EAAE,CAAG,YAAZ,wBACQ,mCADR,cAEQ,cAAM,QAAQ,CAAEf,mBAAhB,wBACI,cAAO,OAAO,CAAC,aAAf,0BADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,aAAxB,CAAsC,KAAK,CAAIV,WAA/C,CAA4D,QAAQ,CAAEkB,uBAAtE,EAFJ,cAGK,cAAO,OAAO,CAAC,UAAf,uBAHL,cAIK,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAIhB,QAA5C,CAAsD,QAAQ,CAAEmB,oBAAhE,EAJL,cAKK,cAAO,OAAO,CAAC,OAAf,oBALL,cAMK,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAIjB,KAAzC,CAAgD,QAAQ,CAAEkB,iBAA1D,EANL,cAOK,cAAO,OAAO,CAAC,OAAf,oBAPL,cAQK,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAIhB,KAAzC,CAAgD,QAAQ,CAAEiB,iBAA1D,EARL,cASK,cAAO,OAAO,CAAC,aAAf,0BATL,cAUK,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,aAA5B,CAA0C,KAAK,CAAIf,WAAnD,CAAgE,QAAQ,CAAEgB,uBAA1E,EAVL,cAWK,eAAQ,IAAI,CAAC,QAAb,yBAXL,GAFR,GADJ,CAkBH,CAhED,CAkEA,cAAe7B,CAAAA,UAAf","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { createPost } from \"../api\"\n\n\nconst CreatePost = (props) => {\n    const loadedPosts = props.loadedPosts\n    const setLoadedPosts = props.setLoadedPosts\n    const setPostsToDisplay = props.setPostsToDisplay\n    const [description, setDescription] = useState(\"\")\n    const [location, setLocation] = useState(\"\")\n    const [price, setPrice] = useState(\"\")\n    const [title, setTitle] = useState(\"\")\n    const [willDeliver, setWillDeliver] = useState(false)\n\n    const handleSubmitNewPost = async (event) =>{\n        event.preventDefault()\n    let postInfo = {\n        post:{\n        title: `${title}` ,\n        description: `${description}`,\n        price: `${price}`,\n        location: `${location}`,\n        willDeliver: `${willDeliver}`\n        }\n    }\n   \n  const data = await createPost(postInfo)\n  console.log(data)\n    setPostsToDisplay([data.data.post,...loadedPosts])\n    setLoadedPosts([data.data.post,...loadedPosts])\n    }\n\n    const handleDescriptionChange = (event)=>{\n        setDescription(event.target.value)\n    }\n    const handleLocationChange = (event)=>{\n        setLocation(event.target.value)\n    }\n    const handlePriceChange = (event)=>{\n        setPrice(event.target.value)\n    }\n    const handleTitleChange = (event)=>{\n        setTitle(event.target.value)\n    }\n    const handleWillDeliverChange = (event)=>{\n        setWillDeliver(event.target.checked)\n    }\n\n\n\n    return (\n        <aside id = \"createpost\">\n                <h1>Create Post</h1>\n                <form onSubmit={handleSubmitNewPost}>\n                    <label htmlFor=\"description\">Description:</label>\n                    <input type=\"text\" name=\"description\" value = {description} onChange={handleDescriptionChange}/>\n                     <label htmlFor=\"location\">Location:</label>\n                     <input type=\"text\" name=\"location\" value = {location} onChange={handleLocationChange}/>\n                     <label htmlFor=\"price\">Price:</label>\n                     <input type=\"text\" name=\"price\" value = {price} onChange={handlePriceChange}/>\n                     <label htmlFor=\"title\">Title:</label>\n                     <input type=\"text\" name=\"title\" value = {title} onChange={handleTitleChange}/>\n                     <label htmlFor=\"willdeliver\">Will Deliver</label>\n                     <input type=\"checkbox\" name=\"willdeliver\" value = {willDeliver} onChange={handleWillDeliverChange}/>\n                     <button type=\"submit\">Submit Post</button>\n                </form>\n        </aside>\n    )\n}\n\nexport default CreatePost"]},"metadata":{},"sourceType":"module"}