{"ast":null,"code":"import{useState}from\"react\";import{Link}from\"react-router-dom\";import{useParams}from\"react-router-dom\";import DeletePost from'./DeletePost';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ViewPost=function ViewPost(props){var _useParams=useParams(),id=_useParams.id;var setPostsToDisplay=props.setPostsToDisplay;var loadedPosts=props.loadedPosts;var setLoadedPosts=props.setLoadedPosts;function postView(post,term){return post._id.includes(term);}var indPost=loadedPosts.filter(function(post){return postView(post,id);});console.log(loadedPosts);return indPost.length?/*#__PURE__*/_jsxs(\"div\",{className:\"indvPosts\",children:[/*#__PURE__*/_jsx(\"p\",{children:indPost[0].title}),/*#__PURE__*/_jsx(\"p\",{children:indPost[0].author.username}),/*#__PURE__*/_jsx(\"p\",{children:indPost[0].createdAt}),/*#__PURE__*/_jsx(\"p\",{children:indPost[0].price}),/*#__PURE__*/_jsx(\"p\",{children:indPost[0].description}),/*#__PURE__*/_jsx(\"p\",{children:indPost[0].location}),/*#__PURE__*/_jsx(\"p\",{children:indPost[0].willDeliver}),function(){if(indPost[0].isAuthor&&indPost[0].messages){return indPost[0].messages.map(function(messages,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Messages:\",messages.content]})},\"message\"+messages.post._id+index);});}else{return/*#__PURE__*/_jsx(_Fragment,{});}}(),indPost[0].isAuthor?/*#__PURE__*/_jsx(DeletePost,{postId:indPost[0]._id,setLoadedPosts:setLoadedPosts,loadedPosts:loadedPosts,setPostsToDisplay:setPostsToDisplay}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(Link,{to:\"/posts\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{children:\"View\"}),\" \"]})]},indPost[0]._id):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Post Does Not Exist\"}),/*#__PURE__*/_jsxs(Link,{to:\"/posts\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{children:\"View\"}),\" \"]})]});};export default ViewPost;","map":{"version":3,"sources":["/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/src/components/ViewPost.js"],"names":["useState","Link","useParams","DeletePost","ViewPost","props","id","setPostsToDisplay","loadedPosts","setLoadedPosts","postView","post","term","_id","includes","indPost","filter","console","log","length","title","author","username","createdAt","price","description","location","willDeliver","isAuthor","messages","map","index","content"],"mappings":"AAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,6IAGA,GAAMC,CAAAA,QAAQ,CAAE,QAAVA,CAAAA,QAAU,CAACC,KAAD,CAAU,CACtB,eAAeH,SAAS,EAAxB,CAAQI,EAAR,YAAQA,EAAR,CACA,GAAMC,CAAAA,iBAAiB,CAAGF,KAAK,CAACE,iBAAhC,CACA,GAAMC,CAAAA,WAAW,CAAGH,KAAK,CAACG,WAA1B,CACA,GAAMC,CAAAA,cAAc,CAAGJ,KAAK,CAACI,cAA7B,CACA,QAASC,CAAAA,QAAT,CAAkBC,IAAlB,CAAwBC,IAAxB,CAA6B,CACzB,MAAOD,CAAAA,IAAI,CAACE,GAAL,CAASC,QAAT,CAAkBF,IAAlB,CAAP,CACH,CACD,GAAMG,CAAAA,OAAO,CAAGP,WAAW,CAACQ,MAAZ,CAAmB,SAAAL,IAAI,QAAID,CAAAA,QAAQ,CAACC,IAAD,CAAOL,EAAP,CAAZ,EAAvB,CAAhB,CACAW,OAAO,CAACC,GAAR,CAAYV,WAAZ,EACA,MACIO,CAAAA,OAAO,CAACI,MAAR,cAAiB,aAA0B,SAAS,CAAC,WAApC,wBACjB,mBAAIJ,OAAO,CAAC,CAAD,CAAP,CAAWK,KAAf,EADiB,cAEjB,mBAAIL,OAAO,CAAC,CAAD,CAAP,CAAWM,MAAX,CAAkBC,QAAtB,EAFiB,cAGjB,mBAAIP,OAAO,CAAC,CAAD,CAAP,CAAWQ,SAAf,EAHiB,cAIjB,mBAAIR,OAAO,CAAC,CAAD,CAAP,CAAWS,KAAf,EAJiB,cAKjB,mBAAIT,OAAO,CAAC,CAAD,CAAP,CAAWU,WAAf,EALiB,cAMjB,mBAAIV,OAAO,CAAC,CAAD,CAAP,CAAWW,QAAf,EANiB,cAOjB,mBAAIX,OAAO,CAAC,CAAD,CAAP,CAAWY,WAAf,EAPiB,CAQf,UAAM,CACF,GAAIZ,OAAO,CAAC,CAAD,CAAP,CAAWa,QAAX,EAAwBb,OAAO,CAAC,CAAD,CAAP,CAAWc,QAAvC,CAAiD,CAC/C,MACId,CAAAA,OAAO,CAAC,CAAD,CAAP,CAAWc,QAAX,CAAoBC,GAApB,CAAyB,SAACD,QAAD,CAAWE,KAAX,qBAAqB,kCAC9C,iCAAaF,QAAQ,CAACG,OAAtB,GAD8C,EAAU,UAAYH,QAAQ,CAAClB,IAAT,CAAcE,GAA1B,CAAgCkB,KAA1C,CAArB,EAAzB,CADJ,CAKD,CAND,IAMO,CACL,mBACE,kBADF,CAGD,CACF,CAZJ,EARgB,CAqBZhB,OAAO,CAAC,CAAD,CAAP,CAAWa,QAAX,cAAsB,KAAC,UAAD,EAAY,MAAM,CAAEb,OAAO,CAAC,CAAD,CAAP,CAAWF,GAA/B,CAAoC,cAAc,CAAEJ,cAApD,CACzB,WAAW,CAAED,WADY,CACC,iBAAiB,CAAED,iBADpB,EAAtB,cACgE,kBAtBpD,cAuBb,MAAC,IAAD,EAAM,EAAE,CAAC,QAAT,4BAAmB,gCAAnB,OAvBa,GAAUQ,OAAO,CAAC,CAAD,CAAP,CAAWF,GAArB,CAAjB,cAyBA,oCACA,2CADA,cAEA,MAAC,IAAD,EAAM,EAAE,CAAC,QAAT,4BAAmB,gCAAnB,OAFA,GA1BJ,CA+BH,CAzCD,CA2CA,cAAeT,CAAAA,QAAf","sourcesContent":["import { useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useParams } from \"react-router-dom\"\nimport DeletePost from './DeletePost';\n\n\nconst ViewPost= (props) =>{\n    const { id } = useParams()\n    const setPostsToDisplay = props.setPostsToDisplay\n    const loadedPosts = props.loadedPosts\n    const setLoadedPosts = props.setLoadedPosts\n    function postView(post, term){\n        return post._id.includes(term)\n    }\n    const indPost = loadedPosts.filter(post => postView(post, id))\n    console.log(loadedPosts)\n    return(\n        indPost.length ? <div key={indPost[0]._id} className='indvPosts'>\n        <p>{indPost[0].title}</p>\n        <p>{indPost[0].author.username}</p>\n        <p>{indPost[0].createdAt}</p>\n        <p>{indPost[0].price}</p>\n        <p>{indPost[0].description}</p>\n        <p>{indPost[0].location}</p>\n        <p>{indPost[0].willDeliver}</p>\n        {(() => {\n              if (indPost[0].isAuthor && (indPost[0].messages)){\n                return (\n                    indPost[0].messages.map( (messages, index) => <div key={\"message\" + messages.post._id + index}>\n                    <p>Messages:{messages.content}</p>\n                  </div>)\n                )\n              } else {\n                return (\n                  <></>\n                )\n              }\n            })()}\n            {indPost[0].isAuthor ? <DeletePost postId={indPost[0]._id} setLoadedPosts={setLoadedPosts} \n          loadedPosts={loadedPosts} setPostsToDisplay={setPostsToDisplay}/>: <></>} \n            <Link to=\"/posts\"> <button >View</button> </Link>\n        </div>:\n        <div>\n        <h2>Post Does Not Exist</h2>\n        <Link to=\"/posts\"> <button >View</button> </Link>\n        </div>\n    )\n}\n\nexport default ViewPost"]},"metadata":{},"sourceType":"module"}