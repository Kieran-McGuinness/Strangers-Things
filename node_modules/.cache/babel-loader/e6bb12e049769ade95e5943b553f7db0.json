{"ast":null,"code":"import _asyncToGenerator from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useState}from\"react\";import{sendMessage}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateMessage=function CreateMessage(props){var postId=props.postId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleMessageSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var messageInfo,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(message===\"\")){_context.next=9;break;}document.getElementById(\"float\").className=\"visible\";document.getElementById(\"float\").innerText=\"Message Cannot Be Blank\";setTimeout(function(){document.getElementById(\"float\").className=\"hidden\";},5000);setMessage(\"\");setClicked(false);_context.next=18;break;case 9:messageInfo={message:{content:\"\".concat(message)}};console.log(message);console.log(postId);_context.next=14;return sendMessage(messageInfo,postId);case 14:data=_context.sent;setMessage(\"\");setClicked(false);if(data.success){document.getElementsByClassName(\"hidden\")[0].className=\"visible\";setTimeout(function(){document.getElementById(\"float\").className=\"hidden\";},5000);}case 18:case\"end\":return _context.stop();}}},_callee);}));return function handleMessageSubmit(_x){return _ref.apply(this,arguments);};}();var handleMessageChange=function handleMessageChange(event){setMessage(event.target.value);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),clicked=_useState4[0],setClicked=_useState4[1];var displayMessageForm=function displayMessageForm(){console.log(\"clicked\");setClicked(true);};return clicked?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleMessageSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"message\",value:message,onChange:handleMessageChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Message\"})]})}):/*#__PURE__*/_jsx(\"button\",{onClick:displayMessageForm,children:\"Send Message\"})// {/* <div>\n//     <form onSubmit={handleMessageSubmit}>\n//         <label htmlFor=\"message\">Message:</label>\n//         <input type=\"text\" name=\"message\" value={message} onChange={handleMessageChange}/>\n//         <button type=\"submit\">Send Message</button>\n//     </form>\n// </div> */}\n;};export default CreateMessage;","map":{"version":3,"sources":["/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/src/components/CreateMessage.js"],"names":["useEffect","useState","sendMessage","CreateMessage","props","postId","message","setMessage","handleMessageSubmit","event","preventDefault","document","getElementById","className","innerText","setTimeout","setClicked","messageInfo","content","console","log","data","success","getElementsByClassName","handleMessageChange","target","value","clicked","displayMessageForm"],"mappings":"kcAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,QAA5B,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAU,CAC5B,GAAMC,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAArB,CACA,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,mBAAmB,0FAAG,iBAAOC,KAAP,uIAChCA,KAAK,CAACC,cAAN,GADgC,KAE7BJ,OAAO,GAAK,EAFiB,0BAG5BK,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,SAAjC,CAA2C,SAA3C,CACAF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCE,SAAjC,CAA6C,yBAA7C,CACAC,UAAU,CAAC,UAAU,CACjBJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,SAAjC,CAA2C,QAA3C,CACH,CAFS,CAER,IAFQ,CAAV,CAGAN,UAAU,CAAC,EAAD,CAAV,CACJS,UAAU,CAAC,KAAD,CAAV,CATgC,8BAW5BC,WAX4B,CAWd,CACdX,OAAO,CAAE,CACLY,OAAO,WAAKZ,OAAL,CADF,CADK,CAXc,CAgBhCa,OAAO,CAACC,GAAR,CAAYd,OAAZ,EACAa,OAAO,CAACC,GAAR,CAAYf,MAAZ,EAjBgC,uBAkBbH,CAAAA,WAAW,CAACe,WAAD,CAAcZ,MAAd,CAlBE,SAkB1BgB,IAlB0B,eAmBhCd,UAAU,CAAC,EAAD,CAAV,CACAS,UAAU,CAAC,KAAD,CAAV,CACA,GAAGK,IAAI,CAACC,OAAR,CAAgB,CACZX,QAAQ,CAACY,sBAAT,CAAgC,QAAhC,EAA0C,CAA1C,EAA6CV,SAA7C,CAAuD,SAAvD,CACAE,UAAU,CAAC,UAAU,CACjBJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,SAAjC,CAA2C,QAA3C,CACH,CAFS,CAER,IAFQ,CAAV,CAGH,CA1B+B,uDAAH,kBAAnBL,CAAAA,mBAAmB,4CAAzB,CA8BJ,GAAMgB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACf,KAAD,CAAU,CAClCF,UAAU,CAACE,KAAK,CAACgB,MAAN,CAAaC,KAAd,CAAV,CACH,CAFD,CAGA,eAA8BzB,QAAQ,CAAC,KAAD,CAAtC,yCAAO0B,OAAP,eAAgBX,UAAhB,eACA,GAAMY,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAK,CAC5BT,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAJ,UAAU,CAAC,IAAD,CAAV,CAGH,CALD,CAQI,MACIW,CAAAA,OAAO,cACP,kCACJ,cAAM,QAAQ,CAAEnB,mBAAhB,wBACI,cAAO,OAAO,CAAC,SAAf,sBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,SAAxB,CAAkC,KAAK,CAAEF,OAAzC,CAAkD,QAAQ,CAAEkB,mBAA5D,EAFJ,cAGI,eAAQ,IAAI,CAAC,QAAb,0BAHJ,GADI,EADO,cAQP,eAAQ,OAAO,CAAEI,kBAAjB,0BACR;AACA;AACA;AACA;AACA;AACA;AACA;AAhBI,CAkBH,CA/DD,CAkEA,cAAezB,CAAAA,aAAf","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { sendMessage } from \"../api\"\n\nconst CreateMessage = (props) =>{\n    const postId = props.postId\n    const [message, setMessage] = useState(\"\")\n    const handleMessageSubmit = async (event) => {\nevent.preventDefault()\nif(message === \"\"){\n    document.getElementById(\"float\").className=\"visible\";\n    document.getElementById(\"float\").innerText = \"Message Cannot Be Blank\"\n    setTimeout(function(){\n        document.getElementById(\"float\").className=\"hidden\";\n    },5000)\n    setMessage(\"\")\nsetClicked(false)\n} else {\nlet messageInfo = {\n    message: {\n        content: `${message}`\n    }\n}\nconsole.log(message)\nconsole.log(postId)\nconst data = await sendMessage(messageInfo, postId)\nsetMessage(\"\")\nsetClicked(false)\nif(data.success){\n    document.getElementsByClassName(\"hidden\")[0].className=\"visible\"\n    setTimeout(function(){\n        document.getElementById(\"float\").className=\"hidden\";\n    },5000)\n}\n}\n    }\n\nconst handleMessageChange = (event) =>{\n    setMessage(event.target.value)\n}\nconst [clicked, setClicked] = useState(false) \nconst displayMessageForm = () =>{\n    console.log(\"clicked\")\n    setClicked(true)\n  \n\n}\n\n\n    return (\n        clicked ?\n        <div>\n    <form onSubmit={handleMessageSubmit}>\n        <label htmlFor=\"message\">Message:</label>\n        <input type=\"text\" name=\"message\" value={message} onChange={handleMessageChange}/>\n        <button type=\"submit\">Send Message</button>\n    </form>\n</div>: \n        <button onClick={displayMessageForm}>Send Message</button>\n// {/* <div>\n//     <form onSubmit={handleMessageSubmit}>\n//         <label htmlFor=\"message\">Message:</label>\n//         <input type=\"text\" name=\"message\" value={message} onChange={handleMessageChange}/>\n//         <button type=\"submit\">Send Message</button>\n//     </form>\n// </div> */}\n    )\n}\n\n\nexport default CreateMessage"]},"metadata":{},"sourceType":"module"}