{"ast":null,"code":"import { useState } from \"react\";\nexport const cohortName = '2110-VPI-WEB-PT'; // Use the APIURL variable for fetch requests\n\nexport const API = `https://strangers-things.herokuapp.com/api/${cohortName}`;\nexport const [authToken, setAuthToken] = useState(\"\"); // export async function getPosts() {\n//     try {\n//       const response = await fetch(`${API}/posts`);\n//       const result = await response.json();\n//       console.log(result)\n//       return result;\n//     } catch (error) {\n//       throw error;\n//     }\n//   }\n\nexport async function registerNew(regInfo) {\n  try {\n    const response = await fetch(`${API}/users/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(regInfo)\n    });\n    const result = await response.json();\n    console.log(result);\n  } catch (error) {\n    console.error('could not register', error);\n  }\n}\n;\nexport async function loginUser(loginInfo) {\n  fetch(`${API}/users/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(loginInfo)\n  }).then(response => response.json()).then(result => {\n    result.data.token ? localStorage.setItem(\"myToken\", result.data.token) : console.log(result);\n    setAuthToken(result.data.token);\n  }).catch(console.error);\n}","map":{"version":3,"sources":["/Users/kieran/Documents/Full Stack/course_work/Strangers.Things/src/api/index.js"],"names":["useState","cohortName","API","authToken","setAuthToken","registerNew","regInfo","response","fetch","method","headers","body","JSON","stringify","result","json","console","log","error","loginUser","loginInfo","then","data","token","localStorage","setItem","catch"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAO,MAAMC,UAAU,GAAG,iBAAnB,C,CACP;;AACA,OAAO,MAAMC,GAAG,GAAI,8CAA6CD,UAAW,EAArE;AAEP,OAAO,MAAM,CAACE,SAAD,EAAYC,YAAZ,IAA4BJ,QAAQ,CAAC,EAAD,CAA1C,C,CAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGE,OAAO,eAAeK,WAAf,CAA4BC,OAA5B,EAAqC;AAC1C,MAAG;AACD,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEN,GAAI,iBAAR,EAC5B;AACEO,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFX;AAKEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CACJP,OADI;AALR,KAD4B,CAA5B;AAWA,UAAMQ,MAAM,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAArB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACD,GAdD,CAcE,OAAOI,KAAP,EAAa;AACbF,IAAAA,OAAO,CAACE,KAAR,CAAc,oBAAd,EAAoCA,KAApC;AACD;AACF;AAAA;AAED,OAAO,eAAeC,SAAf,CAA0BC,SAA1B,EAAoC;AAC3CZ,EAAAA,KAAK,CAAE,GAAEN,GAAI,cAAR,EAAsB;AACxBO,IAAAA,MAAM,EAAE,MADgB;AAExBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFe;AAKxBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAEJO,SAFI;AALkB,GAAtB,CAAL,CAUGC,IAVH,CAUQd,QAAQ,IAAIA,QAAQ,CAACQ,IAAT,EAVpB,EAWEM,IAXF,CAWOP,MAAM,IAAG;AACbA,IAAAA,MAAM,CAACQ,IAAP,CAAYC,KAAZ,GAAoBC,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCX,MAAM,CAACQ,IAAP,CAAYC,KAA5C,CAApB,GAAwEP,OAAO,CAACC,GAAR,CAAYH,MAAZ,CAAxE;AACAV,IAAAA,YAAY,CAACU,MAAM,CAACQ,IAAP,CAAYC,KAAb,CAAZ;AACD,GAdF,EAcIG,KAdJ,CAcUV,OAAO,CAACE,KAdlB;AAeA","sourcesContent":["import { useState } from \"react\";\nexport const cohortName = '2110-VPI-WEB-PT';\n// Use the APIURL variable for fetch requests\nexport const API = `https://strangers-things.herokuapp.com/api/${cohortName}`;\n\nexport const [authToken, setAuthToken] = useState(\"\")\n\n// export async function getPosts() {\n//     try {\n//       const response = await fetch(`${API}/posts`);\n//       const result = await response.json();\n//       console.log(result)\n//       return result;\n//     } catch (error) {\n//       throw error;\n//     }\n//   }\n\n\n  export async function registerNew (regInfo) {\n    try{\n      const response = await fetch(`${API}/users/register`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(\n          regInfo\n          ),\n      }\n      );\n      const result = await response.json();\n      console.log(result);\n    } catch (error){\n      console.error('could not register', error)\n    }\n  };\n\n  export async function loginUser (loginInfo){\n  fetch(`${API}/users/login`,{\n     method: 'POST',\n     headers: {\n       'Content-Type': 'application/json'\n     },\n     body: JSON.stringify\n     (\n       loginInfo\n       ),\n   }\n   ).then(response => response.json())\n   .then(result =>{\n     result.data.token ? localStorage.setItem(\"myToken\", result.data.token): console.log(result);\n     setAuthToken(result.data.token)\n   }).catch(console.error);\n }\n  \n\n\n"]},"metadata":{},"sourceType":"module"}